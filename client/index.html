<!DOCTYPE HTML>
<html lang="en">
<head>
<meta name="viewport" content="width=device-width, 
    user-scalable=no, initial-scale=1, maximum-scale=1, user-scalable=0" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<title>DandyHacks</title>
<style type="text/css">
body { margin: 0; padding: 0; background: #000;}
canvas { display: block; margin: 0 auto; background: #fff; }
</style>

</head>

<body style="overflow: hidden">
<canvas></canvas>
<script>
// namespace our game
var POP = {

    // set up some inital values
    WIDTH: 768, 
    HEIGHT:  1366, 
    scale:  1,
    // the position of the canvas
    // in relation to the screen
    offset: {top: 0, left: 0},
    // we'll set the rest of these
    // in the init function
    RATIO:  null,
    currentWidth:  null,
    currentHeight:  null,
    canvas: null,
    ctx:  null,

    init: function() {
   
        // the proportion of width to height
        POP.RATIO = POP.WIDTH / POP.HEIGHT;
        // these will change when the screen is resize
        POP.currentWidth = POP.WIDTH;
        POP.currentHeight = POP.HEIGHT;
        // this is our canvas element
        POP.canvas = document.getElementsByTagName('canvas')[0];
        // it's important to set this
        // otherwise the browser will
        // default to 320x200
        POP.canvas.width = POP.WIDTH;
        POP.canvas.height = POP.HEIGHT;
        // the canvas context allows us to 
        // interact with the canvas api
        POP.ctx = POP.canvas.getContext('2d');
        POP.resize();
		POP.Draw.clear();
		// include this at the end of POP.init function
		POP.Draw.clear();
		//POP.Draw.rect(0,0,768,1366, 'white');
		POP.Draw.rect(60,850,300,200, 'red');
		POP.Draw.text("Login", 150, 950, 30, '#000');
		POP.Draw.rect(410,850,300,200, 'orange');
		POP.Draw.text("Register", 490, 950, 30, '#000');
		//POP.Draw.circle(100, 100, 50, 'rgba(255,0,0,0.5)');
		POP.Draw.text("Sample page please read and understand the code, should probably make canvas full screenzz", 768/2-200, 200, 10, '#000');
		// listen for clicks
		window.addEventListener('click', function(e) {
			e.preventDefault();
			POP.Input.set(e);
		}, false);

		// listen for touches
		window.addEventListener('touchstart', function(e) {
			e.preventDefault();
			// the event object has an array
			// named touches; we just want
			// the first touch
			POP.Input.set(e.touches[0]);
		}, false);
		window.addEventListener('touchmove', function(e) {
			// we're not interested in this,
			// but prevent default behaviour
			// so the screen doesn't scroll
			// or zoom
			e.preventDefault();
		}, false);
		window.addEventListener('touchend', function(e) {
			// as above
			e.preventDefault();
		}, false);
    },


    resize: function() {
    
        POP.currentHeight = window.innerHeight;
        // resize the width in proportion
        // to the new height
        POP.currentWidth = POP.currentHeight * POP.RATIO;

        // set the new canvas style width & height
        // note: our canvas is still 320x480 but
        // we're essentially scaling it with CSS
        POP.canvas.style.width = POP.currentWidth + 'px';
        POP.canvas.style.height = POP.currentHeight + 'px';

        // the amount by which the css resized canvas
        // is different to the actual (480x320) size.
        POP.scale = POP.currentWidth / POP.WIDTH;
        // position of canvas in relation to
        // the screen
        POP.offset.top = POP.canvas.offsetTop;
        POP.offset.left = POP.canvas.offsetLeft;

        // we use a timeout here as some mobile
        // browsers won't scroll if there is not
        // a small delay
        window.setTimeout(function() {
                window.scrollTo(0,1);
        }, 1);
    },
};
// abstracts various canvas operations into
// standalone functions
POP.Draw = {

	clear: function() {
		POP.ctx.clearRect(0, 0, POP.WIDTH, POP.HEIGHT);
	},

	rect: function(x, y, w, h, col) {
		POP.ctx.fillStyle = col;
		POP.ctx.fillRect(x, y, w, h);
	},

	circle: function(x, y, r, col) {
		POP.ctx.fillStyle = col;
		POP.ctx.beginPath();
		POP.ctx.arc(x + 5, y + 5, r, 0,  Math.PI * 2, true);
		POP.ctx.closePath();
		POP.ctx.fill();
	},

	text: function(string, x, y, size, col) {
		POP.ctx.font = 'bold '+size+'px Monospace';
		POP.ctx.fillStyle = col;
		POP.ctx.fillText(string, x, y);
	}

};

POP.Input = {

    x: 0,
    y: 0,
    tapped :false,

    set: function(data) {
        this.x = (data.pageX - POP.offset.left) / POP.scale;
        this.y = (data.pageY - POP.offset.top) / POP.scale;
        this.tapped = true;
		//POP.Draw.rect(30,850,300,200, 'red');
		//if(this.x>30&&this.x<330&&this.y>850&&this.y<1050)
			//location.href = 'https://sli.codes/gacha/client/world.html';
		//60,850,300,200
		if(this.x>60&&this.x<360&&this.y>850&&this.y<1050){
			alert("hi");
			POP.Draw.clear();
			POP.Draw.rect(80,400,POP.WIDTH-160,200, 'red');
			//POP.resize();
		}
		POP.Draw.circle(this.x, this.y, 10, 'red');
		//alert("hi");
		//POP.Draw.circle(this.x, this.y, 10, 'black');
    }

};
window.addEventListener('load', POP.init, false);
window.addEventListener('resize', POP.resize, false);
</script>


</body>
</html>
